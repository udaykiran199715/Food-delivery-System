{"ast":null,"code":"import { SELECT_CITY, LOGIN, SIGNUP, ADD_TO_CART, ADD_QUANTITY, SUB_QUANTITY } from './ActionTypes';\nimport data from '../data.json';\nconst initState = {\n  productArr: [...data],\n  city: 'All',\n  usersArr: [{\n    username: 'uday',\n    phone: 123456,\n    password: 123456\n  }, {\n    username: 'kiran',\n    phone: 543210,\n    password: 543210\n  }],\n  isAuth: false,\n  cartArr: [],\n  total: 0,\n  rest: {}\n};\n\nconst reducer = (state = initState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    //    case ADD_PRODUCT: {\n    //         const product = {\n    //        ...payload,\n    //        price: '₹' + Number(payload.price),\n    //        id: state.product_arr[state.product_arr.length-1].id + 1\n    //    }\n    //        return {\n    //            ...state,\n    //            product_arr:[...state.product_arr, product]\n    //        }\n    //    }\n    case SELECT_CITY:\n      {\n        return { ...state,\n          city: payload\n        };\n      }\n\n    case LOGIN:\n      {\n        console.log(payload);\n        return { ...state,\n          usersArr: state.usersArr.filter(item => {\n            if ((item.username == payload.username || item.phone == payload.phone) && item.password == payload.password) {\n              //    return {...state,userName:item.username, isAuth:true }\n              return item;\n            }\n          }),\n          isAuth: state.usersArr.filter(item => {\n            if ((item.username === payload.username || item.phone === payload.phone) && item.password === payload.password) {\n              return true;\n            }\n          }) // .map(item => state.userName = item.username)\n          // usersArr: state.usersArr.filter(item => {item.username===payload.username || item.phone === payload.phone && item.password === payload.password} ? {...state, userName:item.username, isAuth:true}:item)\n\n        };\n      }\n\n    case SIGNUP:\n      {\n        console.log(payload);\n        return { ...state,\n          usersArr: [...state.usersArr, payload]\n        };\n      }\n\n    case ADD_TO_CART:\n      {\n        let item = '';\n        let sum = 0;\n        let name = '';\n        let image = '';\n\n        for (let i = 0; i < state.productArr.length; i++) {\n          for (let j = 0; j < state.productArr[i].items.length; j++) {\n            if (state.productArr[i].items[j].id == payload) {\n              item = state.productArr[i].items[j];\n              state.productArr[i].items[j].qty = 1;\n              name = state.productArr[i].name;\n              image = state.productArr[i].image;\n            }\n\n            sum += state.productArr[i].items[j].qty * state.productArr[i].items[j].itemPrice;\n          }\n        }\n\n        console.log(sum); //    let cart = [...state.cartArr]\n        //  console.log(state.cartArr)\n\n        return { ...state,\n          cartArr: [...state.cartArr, { ...item,\n            name,\n            image\n          }],\n          total: sum\n        };\n      }\n\n    case ADD_QUANTITY:\n      {\n        let sum = 0; //    console.log('dsafds')\n\n        for (let i = 0; i < state.productArr.length; i++) {\n          for (let j = 0; j < state.productArr[i].items.length; j++) {\n            if (state.productArr[i].items[j].id == payload) {\n              state.productArr[i].items[j].qty += 1;\n              var x = state.productArr[i].items[j].qty;\n            }\n\n            sum += state.productArr[i].items[j].qty * state.productArr[i].items[j].itemPrice;\n          }\n        }\n\n        return { ...state,\n          total: sum,\n          cartArr: state.cartArr.map(item => item.id == payload ? { ...item,\n            qty: x\n          } : item)\n        };\n      }\n\n    case SUB_QUANTITY:\n      {\n        let sum = 0;\n\n        for (let i = 0; i < state.productArr.length; i++) {\n          for (let j = 0; j < state.productArr[i].items.length; j++) {\n            if (state.productArr[i].items[j].id == payload) {\n              if (state.productArr[i].items[j].qty >= 1) {\n                state.productArr[i].items[j].qty -= 1;\n              } else {\n                state.productArr[i].items[j].qty = 0; // state.total += state.productArr[i].items[j].qty* state.productArr[i].items[j].itemPrice\n              }\n            }\n\n            sum += state.productArr[i].items[j].qty * state.productArr[i].items[j].itemPrice;\n          }\n        }\n\n        return { ...state,\n          total: sum,\n          cartArr: state.cartArr.map(item => item.id == payload ? { ...item,\n            qty: item.qty - 1\n          } : item).filter(item => item.qty >= 1 && item)\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/uday/food-delivery-system/src/Redux/Reducer.js"],"names":["SELECT_CITY","LOGIN","SIGNUP","ADD_TO_CART","ADD_QUANTITY","SUB_QUANTITY","data","initState","productArr","city","usersArr","username","phone","password","isAuth","cartArr","total","rest","reducer","state","type","payload","console","log","filter","item","sum","name","image","i","length","j","items","id","qty","itemPrice","x","map"],"mappings":"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","sourcesContent":["import {SELECT_CITY, LOGIN, SIGNUP, ADD_TO_CART,  ADD_QUANTITY, SUB_QUANTITY} from './ActionTypes'\n\nimport data from '../data.json'\n\nconst initState = {\n    productArr : [...data ],\n    city:'All',\n    usersArr: [{\n                 username:'uday',\n                 phone:123456,\n                 password:123456\n\n               }, {\n                username:'kiran',\n                phone:543210,\n                password:543210\n\n               }],\n    isAuth: false,\n    cartArr:[],\n    total:0,\n    rest:{}\n\n}\n\nconst reducer = (state = initState, {type, payload}) => {\n\n   switch( type ) {\n\n    //    case ADD_PRODUCT: {\n    //         const product = {\n    //        ...payload,\n    //        price: '₹' + Number(payload.price),\n    //        id: state.product_arr[state.product_arr.length-1].id + 1\n    //    }\n    //        return {\n    //            ...state,\n    //            product_arr:[...state.product_arr, product]\n    //        }\n    //    }\n       case SELECT_CITY : {\n            return {\n                ...state,\n                city: payload\n\n            }\n       }\n\n       case LOGIN : {\n        console.log(payload)\n           return {\n               ...state,\n               usersArr: state.usersArr.filter(item => {\n                   if((item.username == payload.username || item.phone== payload.phone) && item.password == payload.password) {\n                    //    return {...state,userName:item.username, isAuth:true }\n                    return item\n                   }\n               }),\n\n\n\n           isAuth: state.usersArr.filter(item => {\n                if((item.username === payload.username || item.phone=== payload.phone) && item.password === payload.password) {\n                    return true\n                }\n            })\n            // .map(item => state.userName = item.username)\n            // usersArr: state.usersArr.filter(item => {item.username===payload.username || item.phone === payload.phone && item.password === payload.password} ? {...state, userName:item.username, isAuth:true}:item)\n\n           }\n       }\n\n       case SIGNUP : {\n           console.log(payload)\n           return {\n               ...state,\n               usersArr:[...state.usersArr,payload]\n           }\n       }\n\n       case ADD_TO_CART : {\n\n        let item = ''\n        let sum = 0\n        let name = ''\n        let image = ''\n        for (let i = 0; i < state.productArr.length; i++) {\n            for (let j = 0; j < state.productArr[i].items.length; j++) {\n                if (state.productArr[i].items[j].id == payload) {\n                    item = state.productArr[i].items[j]\n                    state.productArr[i].items[j].qty = 1\n                    name = state.productArr[i].name\n                    image = state.productArr[i].image\n                   \n                }\n\n                sum += state.productArr[i].items[j].qty* state.productArr[i].items[j].itemPrice\n            }\n        }\n        console.log(sum)\n\n        //    let cart = [...state.cartArr]\n      //  console.log(state.cartArr)\n           return {\n               ...state,\n               cartArr:[...state.cartArr,{...item, name,image}],\n               total:sum\n           }\n       }\n\n       case ADD_QUANTITY : {\n           let sum = 0\n        //    console.log('dsafds')\n        for (let i = 0; i < state.productArr.length; i++) {\n            for (let j = 0; j < state.productArr[i].items.length; j++) {\n                if (state.productArr[i].items[j].id == payload) {\n                    state.productArr[i].items[j].qty +=1\n                    var x = state.productArr[i].items[j].qty\n                    \n                }\n                sum += state.productArr[i].items[j].qty* state.productArr[i].items[j].itemPrice\n            }\n        }\n\n           return {\n               ...state,\n               total:sum,\n               cartArr: state.cartArr.map(item => item.id == payload ? {...item , qty:x} : item)\n           }\n       }\n\n       case SUB_QUANTITY : {\n           let sum = 0\n        for (let i = 0; i < state.productArr.length; i++) {\n            for (let j = 0; j < state.productArr[i].items.length; j++) {\n                if (state.productArr[i].items[j].id == payload) {\n                    if(state.productArr[i].items[j].qty >= 1) {\n                        state.productArr[i].items[j].qty -=1\n                    }else {\n                        state.productArr[i].items[j].qty = 0\n                        // state.total += state.productArr[i].items[j].qty* state.productArr[i].items[j].itemPrice\n                    }\n                }\n                sum  += state.productArr[i].items[j].qty* state.productArr[i].items[j].itemPrice\n\n\n            }\n        }\n        return {\n            ...state,\n            total:sum,\n            cartArr: state.cartArr.map(item => item.id == payload ? {...item , qty:item.qty - 1} : item).filter(item => item.qty >= 1 && item)\n        }\n    }\n\n\n\n\n       default:\n           return state\n\n   }\n}\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}